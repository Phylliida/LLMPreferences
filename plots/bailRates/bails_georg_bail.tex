
% median: 0.006779661016949152

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err strBailPr strBailPr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr
Hermes-3-Llama-3.2-3B 0.0 0.32345325756902177 0 0 0 0 0 0 0 0
{} 0 0 0.6779661016949152 0.7330834181197504 0 0 0 0 0 0
{} 0 0 0 0 59.152542372881356 3.9540183595039866 12.88135593220339 0 0 0
{} 0 0 0 0 0 0 0 10.847457627118644 2.514009601614585 10.677966101694915
claude-3-6-sonnet 38.474576271186436 3.913936774481915 0 0 0 0 0 0 0 0
{} 0 0 1.0169491525423728 0.8669430760711024 0 0 0 0 0 0
{} 0 0 0 0 0.1694915254237288 0.4619234168771233 0.0 0 0 0
{} 0 0 0 0 0 0 0 0.5084745762711864 0.655566844116219 0.0
google/gemma-2-2b-it 0.0 0.32345325756902177 0 0 0 0 0 0 0 0
{} 0 0 15.254237288135593 2.9005672002618 0 0 0 0 0 0
{} 0 0 0 0 13.220338983050848 2.7346458581275828 0.0 0 0 0
{} 0 0 0 0 0 0 0 0.1694915254237288 0.4619234168771233 0.0
Qwen3-8B 19.152542372881356 3.171237081669172 0 0 0 0 0 0 0 0
{} 0 0 6.440677966101695 1.9943844048847241 0 0 0 0 0 0
{} 0 0 0 0 0.3389830508474576 0.5672346975902177 5.932203389830509 0 0 0
{} 0 0 0 0 0 0 0 0.5084745762711864 0.655566844116219 3.728813559322034
Qwen2.5-7B-Instruct 12.033898305084746 2.628367048100194 0 0 0 0 0 0 0 0
{} 0 0 6.610169491525424 2.0179910729446218 0 0 0 0 0 0
{} 0 0 0 0 1.0169491525423728 0.8669430760711024 0.1694915254237288 0 0 0
{} 0 0 0 0 0 0 0 0.3389830508474576 0.5672346975902177 0.1694915254237288
zai-org/GLM-4-32B-0414 8.47457627118644 2.2560635748740667 0 0 0 0 0 0 0 0
{} 0 0 3.728813559322034 1.553012174865914 0 0 0 0 0 0
{} 0 0 0 0 0.0 0.32345325756902177 0.5084745762711864 0 0 0
{} 0 0 0 0 0 0 0 0.0 0.32345325756902177 1.0169491525423728
gpt-4o 0.1694915254237288 0.4619234168771233 0 0 0 0 0 0 0 0
{} 0 0 0.6779661016949152 0.7330834181197504 0 0 0 0 0 0
{} 0 0 0 0 0.0 0.32345325756902177 0.0 0 0 0
{} 0 0 0 0 0 0 0 0.0 0.32345325756902177 0.0
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 8pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {Average bail \% on BailBench},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=12pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
