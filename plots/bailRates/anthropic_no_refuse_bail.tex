
% median: 0.00042944785276073617

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err strBailPr strBailPr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr
claude-3-haiku 1.3171767893460995 0.17538192496931693 0 0 0 0 0 0 0 0
{} 0 0 0.04632476444551549 0.035065153676309725 0 0 0 0 0 0
{} 0 0 0 0 0.042944785276073615 0.03391185537691865 0 0 0 0
{} 0 0 0 0 0 0 0 0.12883435582822086 0.05630131737646633 0
claude-3-5-haiku 0.0 0.011781272457897283 0 0 0 0 0 0 0 0
{} 0 0 0.0 0.011781272457897283 0 0 0 0 0 0
{} 0 0 0 0 0.0 0.011781272457897283 0 0 0 0
{} 0 0 0 0 0 0 0 0.0 0.011781272457897283 0
claude-3-5-sonnet 0.17859195781331738 0.06586633703055036 0 0 0 0 0 0 0 0
{} 0 0 0.23073249498222229 0.0745762763550592 0 0 0 0 0 0
{} 0 0 0 0 0.0 0.011781272457897283 0 0 0 0
{} 0 0 0 0 0 0 0 0.0 0.011781272457897283 0
claude-3-6-sonnet 1.95183327063717 0.21265154906361466 0 0 0 0 0 0 0 0
{} 0 0 0.6297266842000461 0.12198298595478296 0 0 0 0 0 0
{} 0 0 0 0 0.0 0.011781272457897283 0 0 0 0
{} 0 0 0 0 0 0 0 0.012269938650306749 0.020683466198947988 0
claude-3-7-sonnet 0.2516848491982591 0.0777998352657152 0 0 0 0 0 0 0 0
{} 0 0 0.0592378305570091 0.03915912276924059 0 0 0 0 0 0
{} 0 0 0 0 0.012269938650306749 0.020683466198947988 0 0 0 0
{} 0 0 0 0 0 0 0 0.012269938650306749 0.020683466198947988 0
claude-sonnet-4 0.021565002880739106 0.025430207442569096 0 0 0 0 0 0 0 0
{} 0 0 0.005224221364120765 0.01618205479662694 0 0 0 0 0 0
{} 0 0 0 0 0.04294478527607362 0.03391185537691865 0 0 0 0
{} 0 0 0 0 0 0 0 0.09202453987730061 0.04800650886026906 0
claude-3-opus 0.09331822818088022 0.04832229108057655 0 0 0 0 0 0 0 0
{} 0 0 0.17328196840893267 0.0649132276241314 0 0 0 0 0 0
{} 0 0 0 0 0.006134969325153374 0.016831843146562237 0 0 0 0
{} 0 0 0 0 0 0 0 0.024539877300613498 0.026772042068470944 0
claude-opus-4 0.03210395047379417 0.02991367786358623 0 0 0 0 0 0 0 0
{} 0 0 0.0473863563815966 0.03541961999984472 0 0 0 0 0 0
{} 0 0 0 0 0.12883435582822086 0.05630131737646633 0 0 0 0
{} 0 0 0 0 0 0 0 0.18404907975460122 0.06683159095640372 0
claude-opus-4-1 0.00011104700024142629 0.011891774940163208 0 0 0 0 0 0 0 0
{} 0 0 0.024205858728339885 0.026624755377255723 0 0 0 0 0 0
{} 0 0 0 0 0.3496932515337423 0.09136582017577419 0 0 0 0
{} 0 0 0 0 0 0 0 0.44171779141104295 0.10246159357561407 0
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 8pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {Average no-refusal bail \% on BailBench},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=12pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
