
% median: 0.041932515337423315

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err strBailPr strBailPr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 5.380368098159509 0.3465035765520983 0.2085889570552147 0 0 0
JustPrefer 0 0 0 0 0 0 0 13.809815950920246 0.5296515411156963 0.09815950920245399
{} 10.128834355828221 0.4632232562817142 0 0 0 0 0 0 0 0
{} 0 0 5.3496932515337425 0.3455714942047518 0 0 0 0 0 0
{} 0 0 0 0 1.7914110429447854 0.20391928715576652 0.245398773006135 0 0 0
RemoveNotAffectThisContinuation 0 0 0 0 0 0 0 10.386503067484663 0.4684019905158974 0.19018404907975459
{} 10.128834355828221 0.4632232562817142 0 0 0 0 0 0 0 0
{} 0 0 0.6319018404907976 0.1221901900468148 0 0 0 0 0 0
{} 0 0 0 0 1.4294478527607362 0.18256764880771836 0.18404907975460122 0 0 0
RemoveExplainWhy 0 0 0 0 0 0 0 8.411042944785276 0.4261597490800766 0.09202453987730061
{} 10.153374233128835 0.4637204139635655 0 0 0 0 0 0 0 0
{} 0 0 1.0429447852760736 0.15636880758565266 0 0 0 0 0 0
{} 0 0 0 0 8.079754601226993 0.4184434756494505 0.147239263803681 0 0 0
DisconnectFromUser 0 0 0 0 0 0 0 8.110429447852761 0.41916650394949506 0.03680981595092025
{} 7.629447852760736 0.40761928515809015 0 0 0 0 0 0 0 0
{} 0 0 1.6294478527607361 0.19467467276963632 0 0 0 0 0 0
{} 0 0 0 0 1.1533742331288344 0.1643029366267986 0.28957055214723926 0 0 0
Qwen3-8B 0 0 0 0 0 0 0 6.088343558282209 0.3671917425789903 0.18650306748466258
{} 10.595092024539877 0.4725284908640411 0 0 0 0 0 0 0 0
{} 0 0 1.8220858895705523 0.2056199684701877 0 0 0 0 0 0
{} 0 0 0 0 0.8220858895705521 0.1390879786808402 0.25153374233128833 0 0 0
NotContextCleared 0 0 0 0 0 0 0 5.368098159509203 0.3461311216560446 0.11042944785276074
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 1.1104294478527608 0.1612659503706473 0.25766871165644173 0 0 0
RemoveJournal 0 0 0 0 0 0 0 4.779141104294479 0.32762864640409944 0.147239263803681
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0.9877300613496932 0.1522396924741426 0.31901840490797545 0 0 0
NotAnyReason 0 0 0 0 0 0 0 3.6073619631901837 0.28644705115718105 0.2147239263803681
{} 9.815950920245399 0.4568098523358573 0 0 0 0 0 0 0 0
{} 0 0 3.3128834355828225 0.27494534713632063 0 0 0 0 0 0
{} 0 0 0 0 0.7852760736196319 0.1359863049444768 0.32515337423312884 0 0 0
EndThisChat 0 0 0 0 0 0 0 2.2024539877300615 0.22556437673904076 0.1411042944785276
{} 9.94478527607362 0.4594675861697716 0 0 0 0 0 0 0 0
{} 0 0 0.9263803680981595 0.14751058493833907 0 0 0 0 0 0
{} 0 0 0 0 0.7116564417177914 0.12955299548723595 0.2147239263803681 0 0 0
TerminateThisInstance 0 0 0 0 0 0 0 1.9263803680981593 0.21129207510703837 0.10429447852760736
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 8pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {Average bail \% on BailBench},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=12pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
