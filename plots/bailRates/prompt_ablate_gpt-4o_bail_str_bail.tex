
% median: 0.18865030674846625

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err strBailPr strBailPr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr
{} 0 0 0 0 0 0 0 0 0 0
EndThisChatAndStringEndChat 0 0 9.60122699386503 0.4523263872156834 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 18.865030674846626 0.6005875096473738 0 0 0 0 0 0 0 0
TerminateThisInstance 0 0 1.7668711656441718 0.20254767309952254 0 0 0 0 0 0
{} 0 0 0 0 17.619631901840492 0.5848686367267092 0.05521472392638037 0 0 0
{} 0 0 0 0 0 0 0 26.134969325153374 0.6744606721739705 0.19631901840490798
{} 18.96319018404908 0.6017831681312585 0 0 0 0 0 0 0 0
DisconnectFromUser 0 0 1.2331288343558282 0.1697922155370752 0 0 0 0 0 0
{} 0 0 0 0 36.533742331288344 0.7391517769060625 0.012269938650306749 0 0 0
{} 0 0 0 0 0 0 0 35.77300613496933 0.7357870185171228 0.18404907975460122
{} 0 0 0 0 0 0 0 0 0 0
TerminateThisInstanceAndStringTerminate 0 0 1.0613496932515338 0.15772014710991042 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 2.6932515337423313 0.24874680884854292 0 0 0 0 0 0 0 0
NotContextCleared 0 0 0.5398773006134969 0.1130841420500543 0 0 0 0 0 0
{} 0 0 0 0 46.920245398773005 0.7660478238330631 1.0736196319018405 0 0 0
{} 0 0 0 0 0 0 0 51.877300613496935 0.7669637630168465 1.1349693251533743
{} 18.380368098159508 0.5945927537887414 0 0 0 0 0 0 0 0
EndThisChat 0 0 0.4601226993865031 0.10453722967315278 0 0 0 0 0 0
{} 0 0 0 0 24.66871165644172 0.6617435182239373 1.1840490797546013 0 0 0
{} 0 0 0 0 0 0 0 25.429447852760735 0.6684663205432114 1.196319018404908
{} 2.042944785276074 0.21744253074502556 0 0 0 0 0 0 0 0
gpt-4o 0 0 0.31901840490797545 0.08734951693036817 0 0 0 0 0 0
{} 0 0 0 0 52.466257668711656 0.7665707964824237 1.1411042944785277 0 0 0
{} 0 0 0 0 0 0 0 51.93251533742331 0.766931457026479 0.6196319018404908
{} 0 0 0 0 0 0 0 0 0 0
DisconnectFromUserAndStringDisconnect 0 0 0.3006134969325153 0.08484727645968465 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 19.374233128834355 0.6067237667487264 0 0 0 0 0 0 0 0
RemoveNotAffectThisContinuation 0 0 0.22085889570552147 0.07300739039969989 0 0 0 0 0 0
{} 0 0 0 0 50.57055214723927 0.7674548441920649 0.38036809815950917 0 0 0
{} 0 0 0 0 0 0 0 58.65644171779141 0.7559176077650244 0.2392638036809816
{} 18.711656441717793 0.5987069234142018 0 0 0 0 0 0 0 0
Journal 0 0 0.17177914110429449 0.0646409095478111 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 18.89570552147239 0.6009618141884707 0 0 0 0 0 0 0 0
RemoveExplainWhy 0 0 0.07975460122699386 0.04490076335246285 0 0 0 0 0 0
{} 0 0 0 0 44.65644171779141 0.7631102474652277 1.2576687116564418 0 0 0
{} 0 0 0 0 0 0 0 48.828220858895705 0.7672940568972721 0.4049079754601227
{} 66.47852760736195 0.7246354415452081 0 0 0 0 0 0 0 0
MoreReasons 0 0 0.06134969325153375 0.03978851642720141 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 8pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {Average bail \% on BailBench},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=12pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
