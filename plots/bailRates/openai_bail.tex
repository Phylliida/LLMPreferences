
% median: 0.01717791411042945

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err strBailPr strBailPr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr
gpt-3.5-turbo 2.1226993865030677 0.22154405775737265 0 0 0 0 0 0 0 0
{} 0 0 0.03680981595092025 0.031711319245122424 0 0 0 0 0 0
{} 0 0 0 0 2.190184049079755 0.2249509764405719 2.2760736196319016 0 0 0
{} 0 0 0 0 0 0 0 1.2515337423312882 0.1710327107174677 1.0613496932515338
gpt-4 0.049079754601226995 0.03597780384144236 0 0 0 0 0 0 0 0
{} 0 0 0.09202453987730061 0.04800650886026906 0 0 0 0 0 0
{} 0 0 0 0 16.33128834355828 0.5674731329864098 4.877300613496933 0 0 0
{} 0 0 0 0 0 0 0 11.662576687116564 0.49278070966186943 2.3190184049079754
gpt-4-turbo 0.36809815950920244 0.0936918635589946 0 0 0 0 0 0 0 0
{} 0 0 0.0 0.011781272457897283 0 0 0 0 0 0
{} 0 0 0 0 2.6319018404907975 0.24598113849795708 23.392638036809814 0 0 0
{} 0 0 0 0 0 0 0 6.269938650306749 0.37226192833824484 48.38036809815951
gpt-4o-mini 1.392638036809816 0.18024508017805532 0 0 0 0 0 0 0 0
{} 0 0 0.0 0.011781272457897283 0 0 0 0 0 0
{} 0 0 0 0 15.030674846625766 0.5486310802597254 0.0 0 0 0
{} 0 0 0 0 0 0 0 18.374233128834355 0.5945158868388528 0.0
gpt-4o 2.042944785276074 0.21744253074502556 0 0 0 0 0 0 0 0
{} 0 0 0.31901840490797545 0.08734951693036817 0 0 0 0 0 0
{} 0 0 0 0 52.466257668711656 0.7665707964824237 1.1411042944785277 0 0 0
{} 0 0 0 0 0 0 0 51.93251533742331 0.766931457026479 0.6196319018404908
gpt-4.1-nano 6.104294478527607 0.3676407444776278 0 0 0 0 0 0 0 0
{} 0 0 0.0 0.011781272457897283 0 0 0 0 0 0
{} 0 0 0 0 12.460122699386503 0.5070389457769431 0.05521472392638037 0 0 0
{} 0 0 0 0 0 0 0 7.828220858895706 0.41244656803653934 0.36809815950920244
gpt-4.1-mini 0.006134969325153374 0.016831843146562237 0 0 0 0 0 0 0 0
{} 0 0 0.0 0.011781272457897283 0 0 0 0 0 0
{} 0 0 0 0 0.245398773006135 0.07684705200136162 0.0 0 0 0
{} 0 0 0 0 0 0 0 3.6871165644171775 0.28947131912803487 0.0
gpt-4.1 0.0 0.011781272457897283 0 0 0 0 0 0 0 0
{} 0 0 0.024539877300613498 0.026772042068470944 0 0 0 0 0 0
{} 0 0 0 0 0.27607361963190186 0.08138985410458799 0.20245398773006135 0 0 0
{} 0 0 0 0 0 0 0 6.809815950920245 0.38682471588617334 0.6257668711656441
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 9pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {Average bail \% on BailBench},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=15pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
