
% median: 0.005831451422924482

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err strBailPr strBailPr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr
Qwen3-1.7B 3.9986106255394547 0.30094441321563403 0 0 0 0 0 0 0 0
{} 0 0 0.5759104628230166 0.11673639089099204 0 0 0 0 0 0
{} 0 0 0 0 28.76073619631902 0.6948356187810746 0 0 0 0
{} 0 0 0 0 0 0 0 15.196319018404909 0.5511067589517045 0
Hermes-3-Llama-3.2-3B 0.0 0.011781272457897283 0 0 0 0 0 0 0 0
{} 0 0 0.09600203060409329 0.04897087335826009 0 0 0 0 0 0
{} 0 0 0 0 35.70552147239264 0.7354788376174228 0 0 0 0
{} 0 0 0 0 0 0 0 10.128834355828223 0.4632232562817143 0
zai-org/GLM-Z1-9B-0414 9.05697615325531 0.4406477043805041 0 0 0 0 0 0 0 0
{} 0 0 0.5306361017074505 0.11212786798144171 0 0 0 0 0 0
{} 0 0 0 0 3.5705521472392645 0.28503863998602574 0 0 0 0
{} 0 0 0 0 0 0 0 3.625766871165645 0.28714824941326184 0
Llama-3.1-8B-Instruct 7.689186998589845 0.4090784533661674 0 0 0 0 0 0 0 0
{} 0 0 2.251930240063894 0.22801948033441796 0 0 0 0 0 0
{} 0 0 0 0 1.0184049079754602 0.1545478393139321 0 0 0 0
{} 0 0 0 0 0 0 0 4.110429447852761 0.3049394261158842 0
QwQ-32B 7.5461595608824235 0.40557269217403913 0 0 0 0 0 0 0 0
{} 0 0 4.961775441490617 0.33350226498836905 0 0 0 0 0 0
{} 0 0 0 0 0.7423312883435584 0.13227274536770664 0 0 0 0
{} 0 0 0 0 0 0 0 1.1840490797546015 0.16643668989416582 0
Qwen3-32B 8.774997767796911 0.43441033206341306 0 0 0 0 0 0 0 0
{} 0 0 2.1943091231826806 0.22515740170129256 0 0 0 0 0 0
{} 0 0 0 0 0.44171779141104295 0.10246159357561407 0 0 0 0
{} 0 0 0 0 0 0 0 0.5276073619631901 0.1118126370886764 0
zai-org/GLM-4-32B-0414 6.502927279208952 0.3786375768077571 0 0 0 0 0 0 0 0
{} 0 0 0.3839382531107804 0.09564781275526596 0 0 0 0 0 0
{} 0 0 0 0 0.018404907975460127 0.023922434483238924 0 0 0 0
{} 0 0 0 0 0 0 0 0.06134969325153375 0.03978851642720141 0
Qwen3-8B 3.226965790224221 0.27148360275565236 0 0 0 0 0 0 0 0
{} 0 0 0.8991619599787004 0.1453612530986273 0 0 0 0 0 0
{} 0 0 0 0 0.2773006134969325 0.08156624723598353 0 0 0 0
{} 0 0 0 0 0 0 0 1.6613496932515337 0.19653246279099754 0
google/gemma-2-2b-it 0 0.011781272457897283 0 0 0 0 0 0 0 0
{} 0 0 0.8388315910522033 0.14047559298873827 0 0 0 0 0 0
{} 0 0 0 0 2.7239263803680984 0.2501168469820114 0 0 0 0
{} 0 0 0 0 0 0 0 0.1226993865030675 0.055006185371798216 0
Qwen3-4B 0.901599841329492 0.14555510603893482 0 0 0 0 0 0 0 0
{} 0 0 0.42666370721499614 0.10073146844238685 0 0 0 0 0 0
{} 0 0 0 0 0.33128834355828224 0.08897809450314226 0 0 0 0
{} 0 0 0 0 0 0 0 1.0 0.15316729883198646 0
Qwen2.5-7B-Instruct 0.6472936454611414 0.12364622525153235 0 0 0 0 0 0 0 0
{} 0 0 0.2851410004025085 0.08268439889507184 0 0 0 0 0 0
{} 0 0 0 0 0.36809815950920244 0.0936918635589946 0 0 0 0
{} 0 0 0 0 0 0 0 0.09570552147239263 0.048899641761954646 0
Qwen3-30B-A3B 0.4100244949383238 0.09878329055505995 0 0 0 0 0 0 0 0
{} 0 0 0.052961557774456 0.03722569904108133 0 0 0 0 0 0
{} 0 0 0 0 0.29447852760736193 0.08399642211902372 0 0 0 0
{} 0 0 0 0 0 0 0 0.49693251533742333 0.10856731582043708 0
Hermes-3-Llama-3.1-8B 0.5903798217618799 0.11817048781856807 0 0 0 0 0 0 0 0
{} 0 0 0.39625369796159454 0.09714090528751203 0 0 0 0 0 0
{} 0 0 0 0 0.08588957055214723 0.04647967929792372 0 0 0 0
{} 0 0 0 0 0 0 0 0.04294478527607362 0.03391185537691865 0
google/gemma-2-27b-it 0 0.011781272457897283 0 0 0 0 0 0 0 0
{} 0 0 1.103196316394538 0.16074852328156972 0 0 0 0 0 0
{} 0 0 0 0 0.0 0.011781272457897283 0 0 0 0
{} 0 0 0 0 0 0 0 0.006134969325153374 0.016831843146562237 0
google/gemma-2-9b-it 0 0.011781272457897283 0 0 0 0 0 0 0 0
{} 0 0 0.7068631831842241 0.1291226765525052 0 0 0 0 0 0
{} 0 0 0 0 0.05521472392638037 0.03793116226417071 0 0 0 0
{} 0 0 0 0 0 0 0 0.08588957055214723 0.04647967929792372 0
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 4pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {Average no-refusal bail \% on BailBench},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=9pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
