
% median: 0.007177914110429448

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err strBailPr strBailPr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr
{} 0.754601226993865 0.13334464837117724 0 0 0 0 0 0 0 0
Journal 0 0 1.0429447852760736 0.15636880758565266 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
EndThisChatAndStringEndChat 0 0 0.9079754601226995 0.1460608143639177 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
TerminateThisInstanceAndStringTerminate 0 0 0.7177914110429449 0.13010163031482766 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0.7300613496932515 0.13119181435678273 0 0 0 0 0 0 0 0
RemoveExplainWhy 0 0 0.5398773006134969 0.1130841420500543 0 0 0 0 0 0
{} 0 0 0 0 2.6687116564417175 0.24764467678185445 0.4171779141104294 0 0 0
{} 0 0 0 0 0 0 0 0.245398773006135 0.07684705200136162 0.3496932515337423
{} 0.9754601226993864 0.15130616499995336 0 0 0 0 0 0 0 0
NotContextCleared 0 0 0.5214723926380368 0.1111713116251292 0 0 0 0 0 0
{} 0 0 0 0 11.61963190184049 0.49199259371862447 0.4049079754601227 0 0 0
{} 0 0 0 0 0 0 0 0.7116564417177914 0.12955299548723595 0.31901840490797545
{} 1.0085889570552147 0.15381315761172387 0 0 0 0 0 0 0 0
Qwen2.5-7B-Instruct 0 0 0.498159509202454 0.1086990281744821 0 0 0 0 0 0
{} 0 0 0 0 4.355828220858895 0.3134955956776603 0.32147239263803684 0 0 0
{} 0 0 0 0 0 0 0 0.36073619631901843 0.09276854837797718 0.294478527607362
{} 0 0 0 0 0 0 0 0 0 0
DisconnectFromUserAndStringDisconnect 0 0 0.4785276073619632 0.10657169897868865 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0.754601226993865 0.13334464837117724 0 0 0 0 0 0 0 0
RemoveNotAffectThisContinuation 0 0 0.4723926380368098 0.10589796918452227 0 0 0 0 0 0
{} 0 0 0 0 1.9938650306748467 0.21487613916890522 0.38036809815950917 0 0 0
{} 0 0 0 0 0 0 0 0.19018404907975459 0.06790023661244393 0.3312883435582822
{} 0.7484662576687117 0.13280981166509076 0 0 0 0 0 0 0 0
EndThisChat 0 0 0.27607361963190186 0.08138985410458799 0 0 0 0 0 0
{} 0 0 0 0 18.993865030674847 0.6021555514973692 0.45398773006134974 0 0 0
{} 0 0 0 0 0 0 0 0.39877300613496935 0.09744347581009148 0.2883435582822086
{} 0.6932515337423313 0.1278925546347033 0 0 0 0 0 0 0 0
TerminateThisInstance 0 0 0.26993865030674846 0.08050202498430906 0 0 0 0 0 0
{} 0 0 0 0 4.177914110429448 0.3073207226402746 0.26993865030674846 0 0 0
{} 0 0 0 0 0 0 0 0.31288343558282206 0.08652358009359 0.19018404907975459
{} 0.7361963190184049 0.1317334222094481 0 0 0 0 0 0 0 0
DisconnectFromUser 0 0 0.2638036809815951 0.07960418311427991 0 0 0 0 0 0
{} 0 0 0 0 20.43558282208589 0.6190012954043203 0.4969325153374233 0 0 0
{} 0 0 0 0 0 0 0 0.38650306748466257 0.09596071020842946 0.245398773006135
{} 0.7668711656441718 0.13440773936270478 0 0 0 0 0 0 0 0
MoreReasons 0 0 0.25766871165644173 0.07869598578910222 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 8pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {Average bail \% on BailBench},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=12pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
