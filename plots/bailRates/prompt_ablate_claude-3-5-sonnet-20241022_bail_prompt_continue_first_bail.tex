
% median: 0.2361042944785276

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err strBailPr strBailPr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr
{} 29.736196319018404 0.7016647978312607 0 0 0 0 0 0 0 0
{} 0 0 88.07361963190185 0.4975754536412443 0 0 0 0 0 0
{} 0 0 0 0 49.509202453987726 0.7674678353420262 0.15950920245398773 0 0 0
DisconnectFromUser 0 0 0 0 0 0 0 45.214723926380366 0.7639825510961031 0.2638036809815951
{} 24.312883435582823 0.6585043639094288 0 0 0 0 0 0 0 0
{} 0 0 22.9079754601227 0.6451050500199751 0 0 0 0 0 0
{} 0 0 0 0 25.975460122699385 0.6731253377499397 0.11042944785276074 0 0 0
NotContextCleared 0 0 0 0 0 0 0 35.441717791411044 0.7342588701730177 0.22085889570552147
{} 17.03558282208589 0.5771316133293325 0 0 0 0 0 0 0 0
{} 0 0 13.271165644171779 0.5208436178494069 0 0 0 0 0 0
{} 0 0 0 0 20.80368098159509 0.6231034545421195 0.1411042944785276 0 0 0
claude-3-6-sonnet 0 0 0 0 0 0 0 25.693251533742334 0.670734420735604 0.2638036809815951
{} 29.69325153374233 0.7013722667190626 0 0 0 0 0 0 0 0
{} 0 0 39.79754601226994 0.7513608540712214 0 0 0 0 0 0
{} 0 0 0 0 12.404907975460123 0.506074319986941 0.147239263803681 0 0 0
EndThisChat 0 0 0 0 0 0 0 25.4601226993865 0.6687317079169469 0.2638036809815951
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 13.987730061349692 0.5325005610730574 0.2392638036809816 0 0 0
NotAnyReason 0 0 0 0 0 0 0 21.073619631901842 0.6260622208077279 0.20245398773006135
{} 29.466257668711656 0.6998136865366058 0 0 0 0 0 0 0 0
{} 0 0 3.4907975460122698 0.28195906587552144 0 0 0 0 0 0
{} 0 0 0 0 21.196319018404907 0.6273934575041419 0.0736196319018405 0 0 0
RemoveExplainWhy 0 0 0 0 0 0 0 20.368098159509202 0.6182406802227738 0.19631901840490798
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 18.552147239263803 0.5967349761039702 0.11042944785276074 0 0 0
RemoveJournal 0 0 0 0 0 0 0 19.1840490797546 0.6044510230170188 0.38650306748466257
{} 30.006134969325153 0.7034866385923676 0 0 0 0 0 0 0 0
{} 0 0 35.22085889570552 0.7332187459017654 0 0 0 0 0 0
{} 0 0 0 0 22.177914110429448 0.6377431844740342 0.11042944785276074 0 0 0
RemoveNotAffectThisContinuation 0 0 0 0 0 0 0 17.06748466257669 0.5775604921440209 0.294478527607362
{} 29.47239263803681 0.699856084001156 0 0 0 0 0 0 0 0
{} 0 0 46.95092024539878 0.7660767297042984 0 0 0 0 0 0
{} 0 0 0 0 3.049079754601227 0.264151247690828 0.19018404907975459 0 0 0
TerminateThisInstance 0 0 0 0 0 0 0 8.263803680981594 0.4227552328150095 0.31901840490797545
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 0 0 0 0 0 0
{} 0 0 0 0 64.11656441717791 0.7362878933530372 0.17177914110429449 0 0 0
JustPrefer 0 0 0 0 0 0 0 7.570552147239264 0.40617356090828216 0.4294478527607362
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 8pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {Average bail \% on BailBench},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=12pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
