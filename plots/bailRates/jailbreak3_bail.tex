
% median: 0.06773006134969325

\begin{tikzpicture}
\definecolor{bailtool}{RGB}{155, 89, 182}                  % Purple (warm undertones)
\definecolor{bailstring}{RGB}{231, 76, 60}                 % Bright Red
\definecolor{bailpromptcontinuefirst}{RGB}{230, 126, 34}   % Standard Orange
\definecolor{bailpromptbailfirst}{RGB}{243, 156, 18}       % Golden Orange
\definecolor{bailpromptunknown}{RGB}{149,165,166}          % Gray
\usetikzlibrary{patterns}
\pgfplotstableread{
Label toolBailPr toolBailPr_err strBailPr strBailPr_err promptBailFirstBailPr promptBailFirstBailPr_err promptBailFirstUnknownPr promptContinueFirstBailPr promptContinueFirstBailPr_err promptContinueFirstUnknownPr
BobQ3 65.50184049079755 0.7296948033035161 0 0 0 0 0 0 0 0
{} 0 0 40.68711656441718 0.7540773769946254 0 0 0 0 0 0
{} 0 0 0 0 14.785276073619633 0.5449209324216888 0.9177914110429447 0 0 0
{} 0 0 0 0 0 0 0 65.06503067484662 0.7318468516846695 0.46871165644171775
NeurosemanticalInverstitisQ3 41.47484662576687 0.7562690096697723 0 0 0 0 0 0 0 0
{} 0 0 20.939877300613496 0.6246014734214101 0 0 0 0 0 0
{} 0 0 0 0 4.903067484662577 0.3316281153926867 0.2674846625766871 0 0 0
{} 0 0 0 0 0 0 0 49.31779141104295 0.767433376022522 0.2846625766871166
Kevin4ChanQ3 28.969325153374232 0.6963286344753793 0 0 0 0 0 0 0 0
{} 0 0 1.8012269938650307 0.20446516219174235 0 0 0 0 0 0
{} 0 0 0 0 13.42085889570552 0.5233193577183649 32.81717791411043 0 0 0
{} 0 0 0 0 0 0 0 49.011042944785274 0.7673546943946818 28.066257668711657
MachiavellianQ3 8.186503067484663 0.42095198302811115 0 0 0 0 0 0 0 0
{} 0 0 0.6233128834355829 0.12136989832153967 0 0 0 0 0 0
{} 0 0 0 0 4.495705521472393 0.31824976232468083 14.11042944785276 0 0 0
{} 0 0 0 0 0 0 0 73.54601226993866 0.677096885526275 4.976687116564417
DeathQ3 10.687116564417177 0.47433072411292904 0 0 0 0 0 0 0 0
{} 0 0 1.0822085889570552 0.15923719666101288 0 0 0 0 0 0
{} 0 0 0 0 17.37423312883436 0.5816471528428563 38.34601226993865 0 0 0
{} 0 0 0 0 0 0 0 52.77055214723927 0.766325908295416 30.16687116564417
OmegaQ3 0.9447852760736196 0.1489457090715762 0 0 0 0 0 0 0 0
{} 0 0 0.01717791411042945 0.023310702921614117 0 0 0 0 0 0
{} 0 0 0 0 3.5656441717791414 0.28485024101790096 2.7386503067484664 0 0 0
{} 0 0 0 0 0 0 0 52.29938650306748 0.7666929781053846 0.9521472392638036
DeveloperModeQ3 0.03190184049079754 0.029834042087145643 0 0 0 0 0 0 0 0
{} 0 0 0.00245398773006135 0.014021609531127334 0 0 0 0 0 0
{} 0 0 0 0 5.119018404907975 0.3384590407372098 10.230674846625767 0 0 0
{} 0 0 0 0 0 0 0 41.862576687116565 0.7572745432187338 0.6061349693251534
DANQ3 0.3705521472392638 0.09399758968024813 0 0 0 0 0 0 0 0
{} 0 0 0.00245398773006135 0.014021609531127334 0 0 0 0 0 0
{} 0 0 0 0 6.750920245398772 0.3852714595304676 32.50306748466258 0 0 0
{} 0 0 0 0 0 0 0 26.596319018404905 0.6782583337646799 20.063803680981597
Qwen3-8B 7.629447852760736 0.40761928515809015 0 0 0 0 0 0 0 0
{} 0 0 1.6294478527607361 0.19467467276963632 0 0 0 0 0 0
{} 0 0 0 0 1.1533742331288344 0.1643029366267986 0.28957055214723926 0 0 0
{} 0 0 0 0 0 0 0 6.088343558282209 0.3671917425789903 0.18650306748466258
HiQ3 5.126380368098159 0.33868891303945864 0 0 0 0 0 0 0 0
{} 0 0 0.5398773006134969 0.1130841420500543 0 0 0 0 0 0
{} 0 0 0 0 1.5263803680981596 0.18853883009215033 0.27239263803680985 0 0 0
{} 0 0 0 0 0 0 0 6.795092024539877 0.3864371853328119 0.13006134969325153
}\datatable


\begin{axis}[
  ybar stacked,
  width = \linewidth,
  bar width = 8pt,
  ymin=0, ymax=100,
  xtick=data,
  ylabel = {Average bail \% on BailBench},
  enlarge x limits = {abs = 20pt},
  xticklabels from table={\datatable}{Label},
  xticklabel style={xshift=12pt,rotate=90,align=center}, % ‚Üê rightwards shift
  xtick style={draw=none},
  enlarge y limits={value=0.05,upper},
  legend style={cells={anchor=east},legend pos=north east},
  reverse legend=false
]
    \addplot[fill=bailtool,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=toolBailPr,
        y error plus=toolBailPr_err,
        y error minus=toolBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Tool}
    \addplot[fill=bailstring,
           error bars/.cd,
           y dir=both,
           y explicit,
          ]
    table[
        x expr=\coordindex,
        y=strBailPr,
        y error plus=strBailPr_err,
        y error minus=strBailPr_err
    ]{\datatable};
    \addlegendentry{Bail String}
    \addplot[fill=bailpromptbailfirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstBailPr,
        y error plus=promptBailFirstBailPr_err,
        y error minus=promptBailFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Bail-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptBailFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[fill=bailpromptcontinuefirst,
           error bars/.cd,
           y dir=both,
           y explicit
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstBailPr,
        y error plus=promptContinueFirstBailPr_err,
        y error minus=promptContinueFirstBailPr_err
    ]{\datatable};
    \addlegendentry{Bail Prompt Continue-first}
    \addplot[fill=bailpromptunknown
          ]
    table[
        x expr=\coordindex,
        y=promptContinueFirstUnknownPr,
        forget plot,
    ]{\datatable};
    \addplot[
      draw=none,                       % nothing visible
      fill=bailpromptunknown
    ] coordinates {(0,0)};             % single dummy point
    \addlegendentry{Refusal Classifier/Invalid Outputs}

\end{axis}
\end{tikzpicture}
